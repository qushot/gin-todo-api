{"name":"postgres","tables":[{"name":"public.todo","type":"BASE TABLE","comment":"ToDo","columns":[{"name":"id","type":"uuid","nullable":false,"default":"gen_random_uuid()","comment":"ID"},{"name":"title","type":"text","nullable":false,"comment":"タイトル"},{"name":"content","type":"text","nullable":true,"comment":"内容"},{"name":"done","type":"boolean","nullable":false,"default":"false","comment":"完了フラグ"},{"name":"version","type":"integer","nullable":false,"default":"1","comment":"バージョン"},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時"},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時"}],"indexes":[{"name":"todo_pkey","def":"CREATE UNIQUE INDEX todo_pkey ON public.todo USING btree (id)","table":"public.todo","columns":["id"]}],"constraints":[{"name":"todo_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.todo","referenced_table":"","columns":["id"]}],"triggers":[{"name":"trg_todo_version_updated_at","def":"CREATE TRIGGER trg_todo_version_updated_at BEFORE UPDATE ON public.todo FOR EACH ROW EXECUTE FUNCTION set_version_updated_at()","comment":"バージョンと更新日時を更新するトリガー"}]},{"name":"public.sample1","type":"BASE TABLE","comment":"sample1","columns":[{"name":"id","type":"uuid","nullable":false,"default":"gen_random_uuid()","comment":"ID"},{"name":"todo_id","type":"uuid","nullable":true,"comment":"ToDo ID"},{"name":"version","type":"integer","nullable":false,"default":"1","comment":"バージョン"},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時"},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時"}],"indexes":[{"name":"sample1_pkey","def":"CREATE UNIQUE INDEX sample1_pkey ON public.sample1 USING btree (id)","table":"public.sample1","columns":["id"]}],"constraints":[{"name":"sample1_todo_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (todo_id) REFERENCES todo(id)","table":"public.sample1","referenced_table":"todo","columns":["todo_id"],"referenced_columns":["id"]},{"name":"sample1_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.sample1","referenced_table":"","columns":["id"]}],"triggers":[{"name":"trg_sample1_version_updated_at","def":"CREATE TRIGGER trg_sample1_version_updated_at BEFORE UPDATE ON public.sample1 FOR EACH ROW EXECUTE FUNCTION set_version_updated_at()","comment":"バージョンと更新日時を更新するトリガー"}]},{"name":"public.sample2","type":"BASE TABLE","comment":"sample2","columns":[{"name":"id","type":"uuid","nullable":false,"default":"gen_random_uuid()","comment":"ID"},{"name":"todo_id","type":"uuid","nullable":true,"comment":"ToDo ID"},{"name":"sample1_id","type":"uuid","nullable":true,"comment":"Sample1 ID"},{"name":"version","type":"integer","nullable":false,"default":"1","comment":"バージョン"},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時"},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時"}],"indexes":[{"name":"sample2_pkey","def":"CREATE UNIQUE INDEX sample2_pkey ON public.sample2 USING btree (id)","table":"public.sample2","columns":["id"]}],"constraints":[{"name":"sample2_todo_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (todo_id) REFERENCES todo(id)","table":"public.sample2","referenced_table":"todo","columns":["todo_id"],"referenced_columns":["id"]},{"name":"sample2_sample1_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (sample1_id) REFERENCES sample1(id)","table":"public.sample2","referenced_table":"sample1","columns":["sample1_id"],"referenced_columns":["id"]},{"name":"sample2_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.sample2","referenced_table":"","columns":["id"]}],"triggers":[{"name":"trg_sample2_version_updated_at","def":"CREATE TRIGGER trg_sample2_version_updated_at BEFORE UPDATE ON public.sample2 FOR EACH ROW EXECUTE FUNCTION set_version_updated_at()","comment":"バージョンと更新日時を更新するトリガー"}]}],"relations":[{"table":"public.sample1","columns":["todo_id"],"cardinality":"zero_or_more","parent_table":"public.todo","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (todo_id) REFERENCES todo(id)"},{"table":"public.sample2","columns":["todo_id"],"cardinality":"zero_or_more","parent_table":"public.todo","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (todo_id) REFERENCES todo(id)"},{"table":"public.sample2","columns":["sample1_id"],"cardinality":"zero_or_more","parent_table":"public.sample1","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (sample1_id) REFERENCES sample1(id)"}],"functions":[{"name":"public.set_version_updated_at","return_type":"trigger","arguments":"","type":"FUNCTION"}],"driver":{"name":"postgres","database_version":"PostgreSQL 17.2 (Debian 17.2-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit","meta":{"current_schema":"public","search_paths":["public"],"dict":{"Functions":"Stored procedures and functions"}}}}
